import{u as m,j as e,T as d}from"./index-CecK8F-0.js";const p=()=>{const{users:o,approveUser:c,deleteUser:x,currentUser:t}=m(),l=o.filter(s=>s.id!==(t==null?void 0:t.id)),r=async s=>{try{await c(s)}catch(a){console.error("Failed to approve user:",a)}},i=async s=>{if(window.confirm("¿Está seguro de que desea eliminar este usuario?"))try{await x(s),alert("✅ Usuario eliminado exitosamente")}catch(a){console.error("Failed to delete user:",a),alert("Error al eliminar el usuario")}},n=s=>{switch(s){case"approved":return e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Aprobado"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pendiente"});default:return null}};return e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-6",children:"Administrar Usuarios"}),e.jsxs("div",{className:"bg-white shadow-md rounded-3xl overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto hidden md:block",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Usuario"}),e.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Email"}),e.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Rol"}),e.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Estado"}),e.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600 text-center",children:"Acciones"})]})}),e.jsx("tbody",{children:l.map(s=>e.jsxs("tr",{className:"border-b hover:bg-slate-50",children:[e.jsx("td",{className:"p-4 text-sm text-slate-800 font-medium",children:s.username}),e.jsx("td",{className:"p-4 text-sm text-slate-500",children:s.email}),e.jsx("td",{className:"p-4 text-sm text-slate-500 capitalize",children:s.role}),e.jsx("td",{className:"p-4 text-sm",children:n(s.status)}),e.jsx("td",{className:"p-4 text-center",children:e.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[s.status==="pending"&&e.jsx("button",{onClick:()=>r(s.id),className:"px-3 py-1 bg-green-500 text-white text-xs font-semibold rounded-lg hover:bg-green-600",children:"Aprobar"}),e.jsx("button",{onClick:()=>i(s.id),className:"p-2 text-slate-500 hover:text-red-600 rounded-full hover:bg-slate-100 transition-colors","aria-label":`Eliminar ${s.username}`,children:e.jsx(d,{className:"h-5 w-5"})})]})})]},s.id))})]})}),e.jsx("div",{className:"md:hidden",children:l.map(s=>e.jsxs("div",{className:"border-b p-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-800",children:s.username}),e.jsx("p",{className:"text-xs text-slate-500",children:s.email})]}),e.jsx("div",{className:"flex-shrink-0",children:n(s.status)})]}),e.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-slate-500 capitalize",children:["Rol: ",s.role]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.status==="pending"&&e.jsx("button",{onClick:()=>r(s.id),className:"px-3 py-1 bg-green-500 text-white text-xs font-semibold rounded-lg hover:bg-green-600",children:"Aprobar"}),e.jsx("button",{onClick:()=>i(s.id),className:"p-2 text-slate-500 hover:text-red-600 rounded-full hover:bg-slate-100 transition-colors","aria-label":`Eliminar ${s.username}`,children:e.jsx(d,{className:"h-5 w-5"})})]})]})]},s.id))}),l.length===0&&e.jsx("p",{className:"text-center text-slate-500 py-8",children:"No hay otros usuarios registrados."})]})]})};export{p as default};
